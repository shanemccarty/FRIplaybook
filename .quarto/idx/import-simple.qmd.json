{"title":"Importing Data Simply","markdown":{"yaml":{"title":"Importing Data Simply","authors":["Zihan Hei","Shane McCarty"],"abstract":"This chapter introduces students to importing data from various sources and file formats commonly used in public health research. Students learn to load datasets from R packages (NHANES), read CSV files, import Excel spreadsheets, and work with SPSS data files. The chapter demonstrates essential data inspection techniques including viewing data structure, examining headers, and understanding data summaries. Students also learn to handle missing data by recoding special values (-99, -50) as NA during import. By the end of this chapter, students will be equipped to import data from multiple sources and prepare it for analysis in their public health research projects.\n","keywords":["data import","NHANES","CSV","Excel","SPSS","missing data"],"format":"live-html","engine":"knitr","editor":"visual"},"headingText":"ðŸ“– Learning Resources","containsRefs":false,"markdown":"\n\n{{< include ./_extensions/r-wasm/live/_knitr.qmd >}}\n\n::: callout-tip\n\n-   **R for Data Science**: [Data Import](https://r4ds.hadley.nz/data-import.html)\n-   **R for Data Science**: [Import](https://r4ds.hadley.nz/import.html)\n-   **Cheat Sheet**: [dplyr](https://rstudio.github.io/cheatsheets/data-import.pdf)\n-   **Posit Interactive Page**: [import](https://rstudio.github.io/cheatsheets/html/data-import.html?_gl=1*2grk0d*_ga*ODQ0NjUzMTM1LjE3NjA0MDU5Nzk.*_ga_2C0WZ1JHG0*czE3NjA0OTMzNDgkbzMkZzAkdDE3NjA0OTMzNDgkajYwJGwwJGgw)\n:::\n\n## Introduction to Data Import\n\n**Importing data** is the *first step* in the data science workflow. Before you can clean, visualize, or model your data, you need to get it into R. Public health researchers work with data from many sources and in many formats. In FRI-PH, we will import data from a survey collected in the software Qualtrics.\n\n**Common data sources:**\n\n-   Survey platforms (Qualtrics, REDCap)\n\n-   R packages (e.g., `NHANES`)\n\n-   Other statistical softwares (e.g., SPSS, SAS, Stata)\n\n-   Spreadsheets (Excel, Google Sheets) \n\n-   Databases (SQL)\n\n```{r}\n#| label: load-packages\n#| autorun: true\n#| completion: true\n#| warning: false\n#| message: false\n\n# Load packages (do this each session)\nlibrary(NHANES)    # CDC health data\nlibrary(tidyverse) # Data wrangling (includes readr)\nlibrary(readxl)    # Read Excel files\nlibrary(haven)     # Read SPSS/SAS/Stata files\n```\n\n## Datasets\n\nYou will learn how to import different datasets:\n\n-   datasets in R packages `NHANES` and `YRBS`\n\n-   class dataset \"health beliefs (cohort 11) collected in the Research Methods I (ANTH206) course\n\n-   team dataset \"oralhealth\"\n\n### File Formats\n\n-   National Health and Nutrition Examination Survey dataset from the Centers for Disease Control and Prevention (CDC) using the R package `NHANES`\n\n-   a `.csv` file format of the class dataset \"health beliefs (cohort 11)\" collected in the Research Methods I (ANTH206) course `03.15.2025.prolificgealthbeliefs.csv`\n\n-   a `.xlsx` file format of the class dataset \"health beliefs (cohort 11) collected in the Research Methods I (ANTH206) course `03.15.2025.prolifichealthbeliefs.xlsx`\n\n-   a `.sav` file format from SPSS of the FRI team project on oral health `10.31.2024.oralhealth.sav`.\n\n## Import Examples\n\n### Import from `NHANES` package\n#### First Setup the library:\n\n```{r}\n#| autorun: false\n#| completion: true\n#| echo: true\n#| output: false\n#| warning: false\n#| error: false\n\nlibrary(tidyverse)\nlibrary(psych)\nlibrary(knitr)\nlibrary(tibble)\nlibrary(dplyr)\nlibrary(tidyr)\nlibrary(scales)     # for number formatting like comma()\nlibrary(english)    # to convert numbers to words\nlibrary(stringr)    # for text functions like str_c()\nlibrary(NHANES)\n```\n\n```{webr-r}\n#| label: install NHANES\n#| eval: false\ninstall.packages(\"NHANES\")\n```\n\n#### Data Structure\n\nNow, you will view the structure of the NHANES data\n\n```{webr-r}\nlibrary(NHANES)\n# Load the data and view its structure\nstr(NHANESraw)\n```\n\n#### Data Header\n\n```{webr-r}\nlibrary(NHANES)\n# Load the data and view its header\nhead(NHANESraw)\n```\n\n#### Variables (aka Column) Names\n\n```{webr-r}\nnames(NHANESraw)\n```\n\n\n#### View Data\n\nIn Posit Cloud, you can use `View()` in your CONSOLE to view the dataframe.\n\n```{{r}}\nlibrary(NHANES)\n# View data\nView(NHANESraw)\n```\n\n### Import from Excel `.xlsx` file\n\nExcel files (.xlsx or .xls) are common in public health. Use the `readxl` package to import them.\n\n```{r}\n#| label: import-excel\n#| autorun: true\n#| completion: true\n#| echo: true\n#| output: false\n#| warning: false\n#| error: false\n\nlibrary(readxl)\n# Import Excel file\nhealthbeliefs_xlsx <- read_excel(\"data/03.15.2025.prolifichealthbeliefs.xlsx\")\n\n```\n\n```{webr-r}\n# View first 10 rows\nhead(healthbeliefs_xlsx, 10)\n```\n\n```{webr-r}\n# View column names, which are the VARIABLES\nnames(healthbeliefs_xlsx)\n```\n\n```{webr-r}\n# Get a summary of all variables\nsummary(healthbeliefs_xlsx)\n```\n\n\n#### Excel: Import Data to Assign Missing Data to `NA`\n\n::: callout-warning\nThis page is under construction. It will include important missing data information.\n:::\n\n\n","srcMarkdownNoYaml":"\n\n{{< include ./_extensions/r-wasm/live/_knitr.qmd >}}\n\n::: callout-tip\n## ðŸ“– Learning Resources\n\n-   **R for Data Science**: [Data Import](https://r4ds.hadley.nz/data-import.html)\n-   **R for Data Science**: [Import](https://r4ds.hadley.nz/import.html)\n-   **Cheat Sheet**: [dplyr](https://rstudio.github.io/cheatsheets/data-import.pdf)\n-   **Posit Interactive Page**: [import](https://rstudio.github.io/cheatsheets/html/data-import.html?_gl=1*2grk0d*_ga*ODQ0NjUzMTM1LjE3NjA0MDU5Nzk.*_ga_2C0WZ1JHG0*czE3NjA0OTMzNDgkbzMkZzAkdDE3NjA0OTMzNDgkajYwJGwwJGgw)\n:::\n\n## Introduction to Data Import\n\n**Importing data** is the *first step* in the data science workflow. Before you can clean, visualize, or model your data, you need to get it into R. Public health researchers work with data from many sources and in many formats. In FRI-PH, we will import data from a survey collected in the software Qualtrics.\n\n**Common data sources:**\n\n-   Survey platforms (Qualtrics, REDCap)\n\n-   R packages (e.g., `NHANES`)\n\n-   Other statistical softwares (e.g., SPSS, SAS, Stata)\n\n-   Spreadsheets (Excel, Google Sheets) \n\n-   Databases (SQL)\n\n```{r}\n#| label: load-packages\n#| autorun: true\n#| completion: true\n#| warning: false\n#| message: false\n\n# Load packages (do this each session)\nlibrary(NHANES)    # CDC health data\nlibrary(tidyverse) # Data wrangling (includes readr)\nlibrary(readxl)    # Read Excel files\nlibrary(haven)     # Read SPSS/SAS/Stata files\n```\n\n## Datasets\n\nYou will learn how to import different datasets:\n\n-   datasets in R packages `NHANES` and `YRBS`\n\n-   class dataset \"health beliefs (cohort 11) collected in the Research Methods I (ANTH206) course\n\n-   team dataset \"oralhealth\"\n\n### File Formats\n\n-   National Health and Nutrition Examination Survey dataset from the Centers for Disease Control and Prevention (CDC) using the R package `NHANES`\n\n-   a `.csv` file format of the class dataset \"health beliefs (cohort 11)\" collected in the Research Methods I (ANTH206) course `03.15.2025.prolificgealthbeliefs.csv`\n\n-   a `.xlsx` file format of the class dataset \"health beliefs (cohort 11) collected in the Research Methods I (ANTH206) course `03.15.2025.prolifichealthbeliefs.xlsx`\n\n-   a `.sav` file format from SPSS of the FRI team project on oral health `10.31.2024.oralhealth.sav`.\n\n## Import Examples\n\n### Import from `NHANES` package\n#### First Setup the library:\n\n```{r}\n#| autorun: false\n#| completion: true\n#| echo: true\n#| output: false\n#| warning: false\n#| error: false\n\nlibrary(tidyverse)\nlibrary(psych)\nlibrary(knitr)\nlibrary(tibble)\nlibrary(dplyr)\nlibrary(tidyr)\nlibrary(scales)     # for number formatting like comma()\nlibrary(english)    # to convert numbers to words\nlibrary(stringr)    # for text functions like str_c()\nlibrary(NHANES)\n```\n\n```{webr-r}\n#| label: install NHANES\n#| eval: false\ninstall.packages(\"NHANES\")\n```\n\n#### Data Structure\n\nNow, you will view the structure of the NHANES data\n\n```{webr-r}\nlibrary(NHANES)\n# Load the data and view its structure\nstr(NHANESraw)\n```\n\n#### Data Header\n\n```{webr-r}\nlibrary(NHANES)\n# Load the data and view its header\nhead(NHANESraw)\n```\n\n#### Variables (aka Column) Names\n\n```{webr-r}\nnames(NHANESraw)\n```\n\n\n#### View Data\n\nIn Posit Cloud, you can use `View()` in your CONSOLE to view the dataframe.\n\n```{{r}}\nlibrary(NHANES)\n# View data\nView(NHANESraw)\n```\n\n### Import from Excel `.xlsx` file\n\nExcel files (.xlsx or .xls) are common in public health. Use the `readxl` package to import them.\n\n```{r}\n#| label: import-excel\n#| autorun: true\n#| completion: true\n#| echo: true\n#| output: false\n#| warning: false\n#| error: false\n\nlibrary(readxl)\n# Import Excel file\nhealthbeliefs_xlsx <- read_excel(\"data/03.15.2025.prolifichealthbeliefs.xlsx\")\n\n```\n\n```{webr-r}\n# View first 10 rows\nhead(healthbeliefs_xlsx, 10)\n```\n\n```{webr-r}\n# View column names, which are the VARIABLES\nnames(healthbeliefs_xlsx)\n```\n\n```{webr-r}\n# Get a summary of all variables\nsummary(healthbeliefs_xlsx)\n```\n\n\n#### Excel: Import Data to Assign Missing Data to `NA`\n\n::: callout-warning\nThis page is under construction. It will include important missing data information.\n:::\n\n\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":true,"freeze":"auto","echo":true,"output":true,"warning":false,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"message":false,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":false,"code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":true,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","filters":["webr"],"highlight-style":{"light":"github","dark":"github-dark"},"toc":true,"toc-depth":3,"number-sections":true,"output-file":"import-simple.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.8.24","webr":{"packages":["ggplot2","dplyr","tidyr","readr","haven","readxl","NHANES","psych"],"autoload-packages":false,"show-startup-message":true,"show-header-message":true,"channel-type":"automatic","home-dir":"/home/web_user","base-url":"https://webr.r-wasm.org/latest/"},"live":{"show-editor":true,"show-console":true,"editor-theme":"textmate","editor-font-size":14,"console-font-size":14},"params":{"organization":"FRI Public Health Research Stream","contact_email":"fripublichealth@binghamton.edu","version":"1.0","authors":{"lead":"Shane McCarty, PhD","contributors":[{"name":"Zihan Hei"},{"name":"Gavin Rualo"}]}},"theme":"cosmo","respect-user-color-scheme":true,"code-copy":true,"number-depth":3,"page-footer":{"left":"Â© 2025 FRI Public Health Research Stream","right":[{"icon":"github","href":"https://github.com/shanemccarty/FRIplaybook"},{"icon":"house","href":"https://fripublichealth.quarto.pub"}]},"search":true,"title":"Importing Data Simply","authors":["Zihan Hei","Shane McCarty"],"abstract":"This chapter introduces students to importing data from various sources and file formats commonly used in public health research. Students learn to load datasets from R packages (NHANES), read CSV files, import Excel spreadsheets, and work with SPSS data files. The chapter demonstrates essential data inspection techniques including viewing data structure, examining headers, and understanding data summaries. Students also learn to handle missing data by recoding special values (-99, -50) as NA during import. By the end of this chapter, students will be equipped to import data from multiple sources and prepare it for analysis in their public health research projects.\n","keywords":["data import","NHANES","CSV","Excel","SPSS","missing data"],"editor":"visual"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}