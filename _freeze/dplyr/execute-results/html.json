{
  "hash": "9a4bfc4657f1fd04c07d419afabc4659",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Transforming Your Data\"\nsubtitle: \"How to use dplyr\"\nauthor: \"Mara Estreich\"\nabstract: |\n  This chapter introduces students to dplyr, a core package within the tidyverse designed\n  for efficient data manipulation and transformation. Students learn essential data cleaning\n  techniques including filtering observations, recoding variables, and creating new categorical\n  and binary variables. Through practical examples using survey data, the chapter demonstrates\n  how to prepare datasets for analysis by grouping response categories and creating dummy\n  variables for regression modeling. By the end of this chapter, students will understand\n  that clean, well-organized data is foundational for accurate analysis and will be equipped\n  with core dplyr functions to transform raw survey data into analysis-ready datasets.\nkeywords:\n  - data manipulation\n  - dplyr\n  - recoding variables\n  - creating new variables\n  - dummy coding\nformat: html\neditor: visual\nexecute:\n  warning: false\n  message: false\n---\n\n::: callout-tip\n## ðŸ“– `dplyr` resources\n\n-   [Documentation](https://dplyr.tidyverse.org/index.html)\n-   [R4DS Book Chapter 3](https://r4ds.hadley.nz/data-transform.html)\n-   [R4DS Ch. 12 - 19](https://r4ds.hadley.nz/transform.html)\n-   [Datacamp](https://www.datacamp.com/courses/data-manipulation-with-dplyr)\n-   [Interactive Cheatsheet](https://rstudio.github.io/cheatsheets/html/data-transformation.html)\n-   [PDF Cheatsheet](https://rstudio.github.io/cheatsheets/data-transformation.pdf)\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(haven)\nlibrary(naniar)\nlibrary(dplyr)\nlibrary(knitr)\n```\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nalldata <- read_sav(\"data/10.31.2024.oralhealth.sav\", user_na = FALSE)\n```\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n## replace with NA\nalldata <- alldata %>%\n  replace_with_na_all(condition = ~.x %in% c(-99, -50))\n```\n:::\n\n\n## Introduction to dplyr\n\ndplyr is part of the tidyverse and provides intuitive functions for manipulating data. Think of it as a toolkit for cleaning and preparing your data for analysis.\n\n**Why use dplyr?**\n\n-   Makes data cleaning code readable and logical\n\n-   Uses the pipe operator (`%>%`) to chain operations together\n\n-   Essential for preparing data before creating visualizations or running analyses\n\n> **Remember**: You cannot create meaningful visualizations or run valid statistical analyses without clean data!\n\n## Example 1: Recoding Education into Categories\n\nWhen working with survey data, we often need to collapse detailed response categories into broader groups. This is useful for:\n\n-   Simplifying analysis\n\n-   Creating groups with adequate sample sizes\n\n-   Making results easier to interpret\n\n### Original Education Variable\n\nOur survey asked about education level with 7 response options:\n\n1.  Less than high school\n\n2.  High school diploma or GED\n\n3.  Some college, but no degree\n\n4.  Associate's or technical degree\n\n5.  Bachelor's degree\n\n6.  Master's degree\n\n7.  Doctoral or professional degree\n\n### Recoding into Three Categories\n\nLet's group these into three meaningful categories:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Create a new 3-category education variable\nalldata <- alldata %>%\n  mutate(\n    education_3cat = factor(\n      case_when(\n        Education_Level %in% c(1, 2, 3, 4) ~ \"Less than Bachelor's\",\n        Education_Level == 5 ~ \"Bachelor's Degree\",\n        Education_Level %in% c(6, 7) ~ \"Graduate Degree\"\n      ),\n      levels = c(\"Less than Bachelor's\", \"Bachelor's Degree\", \"Graduate Degree\")\n    )\n  )\n\n# Check the recoding with a cross-tabulation\ntable(alldata$Education_Level, alldata$education_3cat, useNA = \"ifany\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   \n    Less than Bachelor's Bachelor's Degree Graduate Degree\n  1                   11                 0               0\n  2                   17                 0               0\n  3                    8                 0               0\n```\n\n\n:::\n:::\n\n\n::: callout-warning\nThis page is under construction. It will include more information soon!\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}